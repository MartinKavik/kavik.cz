---
import Icon from './Icon.astro';
import Pill from './Pill.astro';
---

<aside>
	<header class="section-header">
		<h3>Let's Build Something</h3>
		<p>Sponsor or hire me.</p>
	</header>
	<div class="cards">
		<!-- Sponsor Card -->
		<article class="sponsor-card">
			<div class="sponsor-content">
				<h3 class="title">Sponsor Benefits</h3>
				<div class="tags">
					<Pill>Early access</Pill>
					<Pill>Request project</Pill>
					<Pill>Premium stuff</Pill>
				</div>
				<div class="tiers-grid">
						<div class="tier">
							<div class="tier-header">
								<strong><span class="tier-star">★</span> Hero</strong>
								<span class="tier-price">$8/mo</span>
							</div>
							<ul class="tier-perks">
								<li>Sponsorware access</li>
								<li>Request & vote on projects</li>
								<li>Email support</li>
							</ul>
						</div>
						<div class="tier tier-featured">
							<div class="tier-header">
								<strong><span class="tier-star">★★★</span> Super Hero</strong>
								<span class="tier-price">$24/mo</span>
							</div>
							<ul class="tier-perks">
								<li>All Hero perks</li>
								<li>Priority support</li>
								<li>Premium: tools, books</li>
							</ul>
						</div>
					</div>
				<p class="social-proof">Join 20+ awesome persons on this journey</p>
				<a href="https://github.com/sponsors/MartinKavik" target="_blank" rel="noopener" class="cta-button sponsor-button">
					<Icon icon="heart" size="1.1em" />
					Sponsor on GitHub
				</a>
			</div>
		</article>

		<!-- Contract Card -->
		<article class="contract-card">
			<div class="contract-content">
				<h3 class="title">Client Benefits</h3>
				<div class="tags">
					<Pill>Solo studio</Pill>
					<Pill>Product-first</Pill>
					<Pill>Delegate & relax</Pill>
				</div>
				<div class="tiers-grid single-tier">
					<div class="tier tier-featured">
						<div class="tier-header">
							<strong><span class="tier-star">★★★★★</span> General</strong>
							<span class="tier-price">$100/h <span class="divider"></span>€85</span>
						</div>
						<ul class="tier-perks">
							<li>Apps, libraries, experiments, debug</li>
							<li>Specs, demos, docs</li>
							<li>Up to 80h/month</li>
							<li>Long-term contracts</li>
							<li>Any timezone (async communication)</li>
						</ul>
					</div>
				</div>
				<p class="social-proof">I've helped 10+ great companies</p>
				<a href="mailto:martin@kavik.cz?subject=Contract%20Work%20Inquiry" class="cta-button contract-button">
					<Icon icon="paper-plane-tilt" size="1.1em" />
					Email to discuss
				</a>
			</div>
		</article>

	</div>
</aside>

<style>
	aside {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 2rem;
		border-top: 1px solid var(--gray-800);
		border-bottom: 1px solid var(--gray-800);
		padding: 5rem 1.5rem;
		background-color: var(--gray-999_40);
		box-shadow: var(--shadow-sm);
	}

	.section-header {
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
		text-align: center;
		max-width: 50ch;
		font-size: var(--text-md);
		color: var(--gray-300);
	}

	.section-header h3 {
		font-size: var(--text-2xl);
		margin: 0;
	}

	.section-header p {
		margin: 0;
	}

	.cards {
		display: flex;
		flex-direction: column;
		gap: 1.5rem;
		width: 100%;
		max-width: 80rem;
	}

	/* Sponsor card - matches PortfolioPreview style */
	.sponsor-card {
		position: relative;
		display: flex;
		flex-direction: column;
		background: var(--gradient-subtle);
		border: 1px solid var(--gray-800);
		border-radius: 1rem;
		box-shadow: var(--shadow-sm);
		transition: box-shadow var(--theme-transition);
		overflow: hidden;
	}

	.sponsor-card:hover {
		box-shadow: var(--shadow-md);
	}

	.sponsor-card::before {
		content: '';
		position: absolute;
		inset: 0;
		background: linear-gradient(
			135deg,
			#e63946 0%,
			#f4a261 8%,
			#e9c46a 16%,
			#2a9d8f 24%,
			#00b4d8 32%,
			#3a86ff 40%,
			#7209b7 48%,
			#f72585 56%,
			#e63946 64%
		);
		background-size: 100% 100%;
		border-radius: 1rem;
		padding: 4px;
		-webkit-mask:
			linear-gradient(#fff 0 0) content-box,
			linear-gradient(#fff 0 0);
		-webkit-mask-composite: xor;
		mask:
			linear-gradient(#fff 0 0) content-box,
			linear-gradient(#fff 0 0);
		mask-composite: exclude;
		clip-path: polygon(
			0 0,
			100% 0,
			100% 4px,
			1.25rem 4px,
			1.25rem 1.25rem,
			4px 1.25rem,
			4px 100%,
			0 100%
		);
		z-index: 1;
		pointer-events: none;
	}

	.sponsor-card:hover::before {
		animation: rainbow-shift-diagonal 4s linear infinite;
	}

	.sponsor-content {
		display: flex;
		flex-direction: column;
		gap: 1rem;
		padding: 1.5rem;
		margin-top: 4px;
		margin-left: 4px;
	}

	.sponsor-card .title {
		font-family: var(--font-brand);
		font-size: var(--text-2xl);
		font-weight: 600;
		color: var(--gray-0);
		margin: 0;
	}

	.sponsor-card .description {
		font-size: var(--text-lg);
		color: var(--gray-200);
		margin: 0;
		font-weight: 500;
	}

	@keyframes rainbow-shift {
		0% { background-position: 0% 0%; }
		100% { background-position: 200% 200%; }
	}

	/* Contract card - matches PortfolioPreview style */
	.contract-card {
		position: relative;
		display: flex;
		flex-direction: column;
		background: var(--gradient-subtle);
		border: 1px solid var(--gray-800);
		border-radius: 1rem;
		box-shadow: var(--shadow-sm);
		transition: box-shadow var(--theme-transition);
		overflow: hidden;
	}

	.contract-card:hover {
		box-shadow: var(--shadow-md);
	}

	.contract-card::before {
		content: '';
		position: absolute;
		inset: 0;
		background: linear-gradient(
			135deg,
			#e63946 0%,
			#f4a261 8%,
			#e9c46a 16%,
			#2a9d8f 24%,
			#00b4d8 32%,
			#3a86ff 40%,
			#7209b7 48%,
			#f72585 56%,
			#e63946 64%
		);
		background-size: 100% 100%;
		border-radius: 1rem;
		padding: 4px;
		-webkit-mask:
			linear-gradient(#fff 0 0) content-box,
			linear-gradient(#fff 0 0);
		-webkit-mask-composite: xor;
		mask:
			linear-gradient(#fff 0 0) content-box,
			linear-gradient(#fff 0 0);
		mask-composite: exclude;
		clip-path: polygon(
			0 0,
			100% 0,
			100% 4px,
			1.25rem 4px,
			1.25rem 1.25rem,
			4px 1.25rem,
			4px 100%,
			0 100%
		);
		z-index: 1;
		pointer-events: none;
	}

	.contract-card:hover::before {
		animation: rainbow-shift-diagonal 4s linear infinite;
	}

	@keyframes rainbow-shift-diagonal {
		0% { background-position: 0 0; }
		100% { background-position: 200% 200%; }
	}

	.contract-content {
		display: flex;
		flex-direction: column;
		gap: 1rem;
		padding: 1.5rem;
		margin-top: 4px;
		margin-left: 4px;
	}

	.contract-card .title {
		font-family: var(--font-brand);
		font-size: var(--text-2xl);
		font-weight: 600;
		color: var(--gray-0);
		margin: 0;
	}

	.contract-card .description {
		font-size: var(--text-lg);
		color: var(--gray-200);
		margin: 0;
		font-weight: 500;
	}

	.contract-body {
		font-size: var(--text-md);
		color: var(--gray-300);
		line-height: 1.7;
	}

	.contract-body p {
		margin: 0;
	}

	.contract-body p + p {
		margin-top: 0.25rem;
	}

	.tags {
		display: flex;
		flex-wrap: wrap;
		gap: 0.5rem;
	}

	/* Tiers expandable */
	.tiers-details {
		margin-top: 0.5rem;
	}

	.tiers-details summary {
		cursor: pointer;
		color: var(--gray-100);
		font-weight: 500;
		padding: 0.5rem 0;
		margin-bottom: 1rem;
	}

	.tiers-details summary:hover {
		color: var(--accent-regular);
	}

	.tiers-details[open] summary {
		color: var(--accent-regular);
	}

	.tiers-details[open] {
		margin-bottom: 0.5rem;
	}

	/* Tiers grid */
	.tiers-grid {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: 0.75rem;
	}

	.tiers-grid.single-tier {
		grid-template-columns: 1fr;
	}

	.tier {
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
		padding: 1rem;
		background: var(--gray-900);
		border-radius: 0.5rem;
		border: 1px solid var(--gray-800);
	}

	.tier-featured {
		border-color: var(--accent-regular);
		background: linear-gradient(135deg, rgba(114, 9, 183, 0.1), rgba(247, 37, 133, 0.1));
	}

	.tier-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		gap: 0.5rem;
	}

	.tier strong {
		display: flex;
		align-items: center;
		gap: 0.4rem;
		color: var(--gray-0);
		font-size: var(--text-md);
	}

	.tier-star {
		color: #f4a261;
		font-size: 0.75em;
		letter-spacing: -0.1em;
	}

	.tier-price {
		color: var(--gray-0);
		font-weight: 700;
		font-size: var(--text-md);
		white-space: nowrap;
		background: linear-gradient(135deg, #f72585, #7209b7);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
	}

	.tier-price .divider {
		display: inline-block;
		width: 0.35em;
		height: 0.35em;
		margin: 0 0.3em;
		background: linear-gradient(135deg, #f72585, #7209b7);
		vertical-align: middle;
	}

	.tier-perks {
		margin: 0;
		padding: 0;
		list-style: none;
		font-size: var(--text-sm);
		color: var(--gray-400);
	}

	.tier-perks li {
		padding: 0.15rem 0;
	}

	.tier-perks li::before {
		content: "✓ ";
		color: var(--accent-regular);
	}

	/* Social proof */
	.social-proof {
		font-size: var(--text-sm);
		color: var(--gray-400);
		font-style: italic;
		margin: 0.5rem 0 0;
	}

	/* CTA Buttons */
	.cta-button {
		display: inline-flex;
		align-items: center;
		justify-content: center;
		gap: 0.5rem;
		padding: 0.875rem 1.5rem;
		font-size: var(--text-md);
		font-weight: 600;
		text-decoration: none;
		border: none;
		border-radius: 0.5rem;
		cursor: pointer;
		transition: all 0.2s ease;
		margin-top: auto;
	}

	.sponsor-button {
		background: linear-gradient(135deg, #f72585, #7209b7);
		color: white;
	}

	.sponsor-button:hover {
		background: linear-gradient(135deg, #ff3d9a, #8b0fd0);
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(247, 37, 133, 0.3);
	}

	.contract-button {
		background: linear-gradient(135deg, #3a86ff, #00b4d8);
		color: white;
	}

	.contract-button:hover {
		background: linear-gradient(135deg, #5a9cff, #00c8ef);
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(58, 134, 255, 0.3);
	}

	/* Responsive */
	@media (min-width: 50em) {
		aside {
			padding: 7.5rem;
			gap: 5rem;
		}

		.section-header {
			gap: 1rem;
			font-size: var(--text-lg);
		}

		.section-header h3 {
			font-size: var(--text-4xl);
		}

		.cards {
			flex-direction: row;
			align-items: stretch;
		}

		.sponsor-card,
		.contract-card {
			flex: 1;
		}

		.sponsor-content,
		.contract-content {
			padding: 2rem;
			gap: 1.25rem;
		}

		.sponsor-card .title,
		.contract-card .title {
			font-size: var(--text-3xl);
		}
	}
</style>
