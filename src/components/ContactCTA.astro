---
import Icon from './Icon.astro';
import Pill from './Pill.astro';
---

<aside>
	<!-- Decorative bricks for Let's Build Something -->
	<div class="deco-bricks section-bricks-contact" aria-hidden="true">
		<div class="deco-brick b8"></div>
		<div class="deco-brick b9"></div>
	</div>
	<header class="section-header stack gap-2 lg:gap-4">
		<h3>Let's Build Something</h3>
		<p>Sponsor or hire me.</p>
	</header>
	<div class="cards">
		<!-- Sponsor Card -->
		<article class="sponsor-card">
			<div class="sponsor-content">
				<h3 class="title">Sponsor Benefits</h3>
				<div class="tags">
					<Pill>Early access</Pill>
					<Pill>Request project</Pill>
					<Pill>Premium stuff</Pill>
				</div>
				<div class="tiers-grid">
						<div class="tier">
							<div class="tier-header">
								<strong><span class="tier-star">★</span> Hero</strong>
								<span class="tier-price">$8/mo</span>
							</div>
							<ul class="tier-perks">
								<li>Sponsorware access</li>
								<li>Shape the roadmap</li>
								<li>Email support</li>
							</ul>
						</div>
						<div class="tier tier-featured">
							<div class="tier-header">
								<strong><span class="tier-star">★★★</span> Super Hero</strong>
								<span class="tier-price">$24/mo</span>
							</div>
							<ul class="tier-perks">
								<li>All Hero perks</li>
								<li>Priority support</li>
								<li>Premium: tools, books</li>
							</ul>
						</div>
					</div>
				<p class="social-proof">Join 20+ awesome persons on this journey</p>
				<a href="https://github.com/sponsors/MartinKavik" target="_blank" rel="noopener" class="cta-button sponsor-button">
					<Icon icon="heart" size="1.1em" />
					Sponsor on GitHub
				</a>
			</div>
		</article>

		<!-- Contract Card -->
		<article class="contract-card">
			<div class="contract-content">
				<h3 class="title">Client Benefits</h3>
				<div class="tags">
					<Pill>Solo studio</Pill>
					<Pill>Product-first</Pill>
					<Pill>Delegate & relax</Pill>
				</div>
				<div class="tier tier-featured tier-general">
					<div class="tier-header">
						<strong><span class="tier-star">★★★★★</span> General</strong>
						<span class="tier-price">$100/h <span class="divider"></span>€85</span>
					</div>
					<ul class="tier-perks tier-perks-general">
						<li><strong>I build</strong> Apps <span class="divider"></span> Tools <span class="divider"></span> Libraries <span class="divider"></span> Demos</li>
						<li><strong>I work</strong> Async-first <span class="divider"></span> Any timezone <span class="divider"></span> Long-term <span class="divider"></span> 80h/month</li>
					</ul>
				</div>
				<p class="social-proof">I've helped 10+ great companies</p>
				<a href="mailto:martin@kavik.cz?subject=Contract%20Work%20Inquiry" class="cta-button contract-button">
					<Icon icon="paper-plane-tilt" size="1.1em" />
					Email martin@kavik.cz
				</a>
			</div>
		</article>

	</div>

	<div class="not-sure">
		<p>Not sure yet? Learn <a href="/about">more about me</a> or just ask:</p>
		<a href="mailto:martin@kavik.cz?subject=Question&body=Hey%20Martin%2C%0A%0AI%27m%20curious%20about%20" class="handwritten-cta">
			"Hey Martin, I'm curious about..."
		</a>
	</div>
</aside>

<style>
	aside {
		position: relative;
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 2rem;
		border-top: 1px solid var(--gray-800);
		border-bottom: 1px solid var(--gray-800);
		padding: 5rem 1.5rem;
		background-color: var(--gray-999_40);
		box-shadow: var(--shadow-sm);
	}

	/* Decorative bricks */
	.deco-bricks {
		position: absolute;
		pointer-events: none;
		z-index: 0;
	}

	.deco-brick {
		position: absolute;
		opacity: 0.18;
	}

	.section-bricks-contact {
		top: 1rem;
		left: 0;
		right: 0;
		height: 150px;
	}

	.section-bricks-contact .b8 {
		background: #f4a261;
		width: 65px;
		height: 50px;
		left: 4%;
		top: 15px;
	}

	.section-bricks-contact .b9 {
		background: #3a86ff;
		width: 50px;
		height: 60px;
		right: 6%;
		top: 35px;
	}

	@media (min-width: 50em) {
		.section-bricks-contact .b8 {
			width: 95px;
			height: 70px;
		}

		.section-bricks-contact .b9 {
			width: 75px;
			height: 85px;
		}
	}

	.section-header {
		text-align: center;
		max-width: 50ch;
		font-size: var(--text-md);
		color: var(--gray-300);
		margin-bottom: 1rem;
	}

	.section-header h3 {
		font-size: var(--text-2xl);
		margin: 0;
	}

	.section-header p {
		margin: 0;
	}

	.cards {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 6rem;
		width: 100%;
		max-width: 80rem;
	}

	.sponsor-card,
	.contract-card {
		width: 100%;
	}

	@media (min-width: 52em) {
		.sponsor-card,
		.contract-card {
			max-width: 670px;
		}
	}

	/* Sponsor card - matches PortfolioPreview style */
	.sponsor-card {
		position: relative;
		display: flex;
		flex-direction: column;
		background: var(--gradient-subtle);
		border: 1px solid var(--gray-800);
		border-radius: 1rem;
		box-shadow: var(--shadow-sm);
		transition: box-shadow var(--theme-transition);
		overflow: hidden;
	}

	.sponsor-card:hover {
		box-shadow: var(--shadow-md);
	}

	.sponsor-card::before {
		content: '';
		position: absolute;
		inset: 0;
		background: linear-gradient(
			135deg,
			#e63946 0%,
			#f4a261 8%,
			#e9c46a 16%,
			#2a9d8f 24%,
			#00b4d8 32%,
			#3a86ff 40%,
			#7209b7 48%,
			#f72585 56%,
			#e63946 64%
		);
		background-size: 100% 100%;
		border-radius: 1rem;
		padding: 4px;
		-webkit-mask:
			linear-gradient(#fff 0 0) content-box,
			linear-gradient(#fff 0 0);
		-webkit-mask-composite: xor;
		mask:
			linear-gradient(#fff 0 0) content-box,
			linear-gradient(#fff 0 0);
		mask-composite: exclude;
		clip-path: polygon(
			0 0,
			100% 0,
			100% 4px,
			1.25rem 4px,
			1.25rem 1.25rem,
			4px 1.25rem,
			4px 100%,
			0 100%
		);
		z-index: 1;
		pointer-events: none;
	}

	.sponsor-card:hover::before {
		animation: rainbow-shift-diagonal 4s linear infinite;
	}

	.sponsor-content {
		display: flex;
		flex-direction: column;
		gap: 1rem;
		padding: 1.5rem;
		margin-top: 4px;
		margin-left: 4px;
	}

	.sponsor-card .title {
		font-family: var(--font-brand);
		font-size: var(--text-2xl);
		font-weight: 600;
		color: var(--gray-0);
		margin: 0;
	}

	.sponsor-card .description {
		font-size: var(--text-lg);
		color: var(--gray-200);
		margin: 0;
		font-weight: 500;
	}

	@keyframes rainbow-shift {
		0% { background-position: 0% 0%; }
		100% { background-position: 200% 200%; }
	}

	/* Contract card - matches PortfolioPreview style */
	.contract-card {
		position: relative;
		display: flex;
		flex-direction: column;
		background: var(--gradient-subtle);
		border: 1px solid var(--gray-800);
		border-radius: 1rem;
		box-shadow: var(--shadow-sm);
		transition: box-shadow var(--theme-transition);
		overflow: hidden;
	}

	.contract-card:hover {
		box-shadow: var(--shadow-md);
	}

	.contract-card::before {
		content: '';
		position: absolute;
		inset: 0;
		background: linear-gradient(
			135deg,
			#e63946 0%,
			#f4a261 8%,
			#e9c46a 16%,
			#2a9d8f 24%,
			#00b4d8 32%,
			#3a86ff 40%,
			#7209b7 48%,
			#f72585 56%,
			#e63946 64%
		);
		background-size: 100% 100%;
		border-radius: 1rem;
		padding: 4px;
		-webkit-mask:
			linear-gradient(#fff 0 0) content-box,
			linear-gradient(#fff 0 0);
		-webkit-mask-composite: xor;
		mask:
			linear-gradient(#fff 0 0) content-box,
			linear-gradient(#fff 0 0);
		mask-composite: exclude;
		clip-path: polygon(
			0 0,
			100% 0,
			100% 4px,
			1.25rem 4px,
			1.25rem 1.25rem,
			4px 1.25rem,
			4px 100%,
			0 100%
		);
		z-index: 1;
		pointer-events: none;
	}

	.contract-card:hover::before {
		animation: rainbow-shift-diagonal 4s linear infinite;
	}

	@keyframes rainbow-shift-diagonal {
		0% { background-position: 0 0; }
		100% { background-position: 200% 200%; }
	}

	.contract-content {
		display: flex;
		flex-direction: column;
		gap: 1rem;
		padding: 1.5rem;
		margin-top: 4px;
		margin-left: 4px;
	}

	.contract-card .title {
		font-family: var(--font-brand);
		font-size: var(--text-2xl);
		font-weight: 600;
		color: var(--gray-0);
		margin: 0;
	}

	.contract-card .description {
		font-size: var(--text-lg);
		color: var(--gray-200);
		margin: 0;
		font-weight: 500;
	}

	.contract-body {
		font-size: var(--text-md);
		color: var(--gray-300);
		line-height: 1.7;
	}

	.contract-body p {
		margin: 0;
	}

	.contract-body p + p {
		margin-top: 0.25rem;
	}

	.tags {
		display: flex;
		flex-wrap: wrap;
		gap: 0.5rem;
	}

	/* Tiers expandable */
	.tiers-details {
		margin-top: 0.5rem;
	}

	.tiers-details summary {
		cursor: pointer;
		color: var(--gray-100);
		font-weight: 500;
		padding: 0.5rem 0;
		margin-bottom: 1rem;
	}

	.tiers-details summary:hover {
		color: var(--accent-regular);
	}

	.tiers-details[open] summary {
		color: var(--accent-regular);
	}

	.tiers-details[open] {
		margin-bottom: 0.5rem;
	}

	/* Tiers grid */
	.tiers-grid {
		display: grid;
		grid-template-columns: 1fr;
		gap: 0.75rem;
	}

	@media (min-width: 52em) {
		.tiers-grid {
			grid-template-columns: 1fr 1fr;
		}
	}

	
	.tier-inner-grid {
		display: grid;
		grid-template-columns: 1fr;
		gap: 0.75rem;
	}

	@media (min-width: 30em) {
		.tier-inner-grid {
			grid-template-columns: 1fr 1fr;
		}
	}

	.tier-inner {
		padding: 0.75rem;
		border-radius: 0.375rem;
		background: var(--gray-900);
	}

	.tier-inner strong {
		display: block;
		color: var(--gray-0);
		font-size: var(--text-md);
		margin-bottom: 0.5rem;
	}

	.tier-inner span {
		font-size: var(--text-md);
		color: var(--gray-400);
		line-height: 1.5;
	}

	.tier-inner-build {
		border-left: 3px solid #3a86ff;
	}

	.tier-inner-work {
		border-left: 3px solid #7209b7;
	}

	.tier {
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
		padding: 1rem;
		background: var(--gray-900);
		border-radius: 0.5rem;
		border: 1px solid var(--gray-800);
	}

	.tier-general {
		gap: 0.75rem;
	}

	.tier-featured {
		border-color: var(--accent-regular);
		background: linear-gradient(135deg, rgba(114, 9, 183, 0.1), rgba(247, 37, 133, 0.1));
	}

	.tier-header {
		display: flex;
		flex-direction: column;
		align-items: flex-start;
		gap: 0.25rem;
	}

	@media (min-width: 30em) {
		.tier-header {
			flex-direction: row;
			justify-content: space-between;
			align-items: center;
			gap: 0.5rem;
		}
	}

	.tier strong {
		display: flex;
		align-items: center;
		gap: 0.4rem;
		color: var(--gray-0);
		font-size: var(--text-md);
	}

	.tier-star {
		color: #f4a261;
		font-size: 0.75em;
		letter-spacing: -0.1em;
	}

	.tier-price {
		color: var(--gray-0);
		font-weight: 700;
		font-size: var(--text-md);
		white-space: nowrap;
		background: linear-gradient(135deg, #f72585, #7209b7);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
	}

	.divider {
		display: inline-block;
		width: 0.35em;
		height: 0.35em;
		margin: 0 0.3em;
		background: linear-gradient(135deg, #f72585, #7209b7);
		vertical-align: middle;
	}

	.tier-perks {
		margin: 0;
		padding: 0;
		list-style: none;
		font-size: var(--text-md);
		color: var(--gray-400);
	}

	.tier-perks li {
		padding: 0.15rem 0;
	}

	.tier-perks li::before {
		content: "✓ ";
		color: var(--accent-regular);
	}

	.tier-perks-general li::before {
		content: none;
	}

	.tier-perks strong {
		color: var(--gray-0);
		margin-right: 0.4rem;
	}

	/* Social proof */
	.social-proof {
		font-size: var(--text-md);
		color: var(--gray-400);
		font-style: italic;
		margin: 0.5rem 0 0;
	}

	/* CTA Buttons */
	.cta-button {
		display: inline-flex;
		align-items: center;
		justify-content: center;
		gap: 0.5rem;
		padding: 0.875rem 1.5rem;
		font-size: var(--text-md);
		font-weight: 600;
		text-decoration: none;
		border: none;
		border-radius: 0.5rem;
		cursor: pointer;
		transition: all 0.2s ease;
		margin-top: auto;
	}

	.sponsor-button {
		background: linear-gradient(135deg, #f72585, #7209b7);
		color: white;
	}

	.sponsor-button:hover {
		background: linear-gradient(135deg, #ff3d9a, #8b0fd0);
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(247, 37, 133, 0.3);
	}

	.contract-button {
		background: linear-gradient(135deg, #3a86ff, #00b4d8);
		color: white;
	}

	.contract-button:hover {
		background: linear-gradient(135deg, #5a9cff, #00c8ef);
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(58, 134, 255, 0.3);
	}

	/* Responsive */
	@media (min-width: 50em) {
		aside {
			padding: 7.5rem;
			gap: 5rem;
		}

		.section-header {
			font-size: var(--text-lg);
			margin-bottom: 2rem;
		}

		.section-header h3 {
			font-size: var(--text-4xl);
		}

		.sponsor-content,
		.contract-content {
			padding: 2rem;
			gap: 1.25rem;
		}

		.sponsor-card .title,
		.contract-card .title {
			font-size: var(--text-3xl);
		}
	}

	/* Side-by-side zigzag layout only on wide screens */
	@media (min-width: 91em) {
		.cards {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 2rem;
			align-items: start;
			--row-offset: 6rem;
			padding-bottom: var(--row-offset);
		}

		/* Zigzag: offset second card down */
		.contract-card {
			transform: translateY(var(--row-offset));
		}
	}

	/* Not sure section */
	.not-sure {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 0.75rem;
		margin-top: 1rem;
		text-align: center;
	}

	.not-sure p {
		font-size: var(--text-md);
		color: var(--gray-400);
		margin: 0;
	}

	.not-sure p a {
		color: var(--gray-200);
		text-decoration: underline;
		text-underline-offset: 0.2em;
	}

	.not-sure p a:hover {
		color: var(--accent-regular);
	}

	.handwritten-cta {
		font-family: 'Caveat', cursive;
		font-size: 1.75rem;
		font-weight: 500;
		color: var(--accent-regular);
		text-decoration: none;
		transform: rotate(-1deg);
		transition: transform 0.2s ease, color 0.2s ease;
	}

	.handwritten-cta:hover {
		transform: rotate(0deg) scale(1.05);
		color: #f72585;
	}

	@media (min-width: 50em) {
		.not-sure {
			margin-top: 2rem;
		}

		.not-sure p {
			font-size: var(--text-lg);
		}

		.handwritten-cta {
			font-size: 2rem;
		}
	}
</style>
